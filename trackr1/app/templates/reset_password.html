{% extends "base.html" %}
{% load static %}
{% block title %}Reset Password{% endblock title %}

{% block content %}
<div class="container d-flex justify-content-center py-5">
  <div class="w-100" style="max-width: 512px;">

    <!-- Heading -->
    <h2 class="text-center fw-bold px-4 pt-5 pb-3" style="color: #111816; font-size: 28px;">
      Reset your password
    </h2>

    <!-- Flash Messages -->
    {% if messages %}
      {% for m in messages %}
        <div class="alert alert-danger alert-dismissible fade show mx-4" role="alert">
          {{ m }}
          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
      {% endfor %}
    {% endif %}

    <!-- Form Start -->
    <form method="POST">
      {% csrf_token %}

      <!-- OTP Input -->
      <div class="px-4 py-3">
        <label class="form-label fw-medium text-dark pb-2" for="otpInput">OTP</label>
        <input
          type="number"
          id="otpInput"
          name="otp"
          class="form-control"
          placeholder="Enter the OTP sent to your email"
          required
          style="height: 56px; border-radius: 1rem; background-color: #eaf1ee; border: none; color: #111816;"
        />
      </div>

      <!-- New Password Input -->
      <div class="px-4 py-3">
        <label class="form-label fw-medium text-dark pb-2" for="newPassword">New Password</label>
        <input
          type="password"
          id="newPassword"
          name="upass"
          class="form-control"
          placeholder="New password"
          required
          style="height: 56px; border-radius: 1rem; background-color: #eaf1ee; border: none; color: #111816;"
        />
      </div>

      <!-- Confirm Password Input -->
      <div class="px-4 py-3">
        <label class="form-label fw-medium text-dark pb-2" for="confirmPassword">Confirm New Password</label>
        <input
          type="password"
          id="confirmPassword"
          name="ucpass"
          class="form-control"
          placeholder="Confirm new password"
          required
          style="height: 56px; border-radius: 1rem; background-color: #eaf1ee; border: none; color: #111816;"
        />
      </div>

      <!-- Submit Button -->
      <div class="text-center px-4 py-3">
        <button
          type="submit"
          class="btn fw-bold w-100"
          style="background-color: #b3e4d3; color: #111816; border-radius: 9999px; height: 40px; min-width: 84px;"
        >
          Reset password
        </button>
      </div>

      <!-- Login Link -->
      <p class="text-center" style="color: #5d8979; font-size: 14px;">
        <a href="{% url 'signin' %}" class="text-decoration-underline">Remember your password? Log in</a>
      </p>
    </form>

  </div>
</div>
{% endblock content %}
